@use "../../styles/tools";
@use "./variables" as *;

@include tools.layer('components') {
  .base-dialog {
    align-items: center;
    justify-content: center;
    margin: auto;

    > .base-overlay__content {
      max-height: calc(100% - #{$dialog-margin * 2});
      width: calc(100% - #{$dialog-margin * 2});
      max-width: calc(100% - #{$dialog-margin * 2});
      margin: $dialog-margin;

      &,
      > form {
        display: flex;
        flex-direction: column;
        min-height: 0;

        > .base-card,
        > .base-sheet {
          --base-scrollbar-offset: 0px;
          border-radius: $dialog-border-radius;
          overflow-y: auto;
          flex: 1 1 100%;

          @include tools.elevation($dialog-elevation);
        }

        > .base-card {
          display: flex;
          flex-direction: column;

          > .base-card-item {
            padding: $dialog-card-header-padding;

            + .base-card-text {
              padding-top: $dialog-card-header-text-padding-top;
            }
          }
          > .base-card-text {
            font-size: inherit;
            letter-spacing: $dialog-card-text-letter-spacing;
            line-height: inherit;
            padding: $dialog-card-text-padding;
          }
          > .base-card-actions {
            justify-content: $dialog-card-actions-justify;
          }
        }
      }
    }
  }
  .base-dialog--fullscreen {
    --base-scrollbar-offset: 0px;

    > .base-overlay__content {
      border-radius: 0;
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      max-width: 100%;
      max-height: 100%;
      overflow-y: auto;
      top: 0;
      left: 0;

      &,
      > form {
        > .base-card,
        > .base-sheet {
          min-height: 100%;
          min-width: 100%;
          border-radius: 0;
        }
      }
    }
  }
  .base-dialog--scrollable > .base-overlay__content {
    > form {
      &,
      > .base-card {
        max-height: 100%;
        max-width: 100%;
      }
    }
    &,
    > form {
      &,
      > .base-card {
        display: flex;
        flex: 1 1 100%;
        flex-direction: column;
      }
      > .base-card > .base-card-text {
        backface-visibility: hidden;
        overflow-y: auto;
      }
    }
  }
}