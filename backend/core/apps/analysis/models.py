from django.db import models

from apps.invest.models import Company, ReportMetadata


class CompanyAnalysis(models.Model):
    company = models.ForeignKey(Company, on_delete=models.CASCADE, related_name='analysis')
    report = models.ForeignKey(ReportMetadata, on_delete=models.CASCADE, related_name='analysis')
    created = models.DateTimeField(auto_now_add=True)
    updated = models.DateTimeField(auto_now=True)
    # Operating Data
    average_interest_earnings_assets = models.FloatField(default=0)
    capital_adequacy_tier_leverage_ratio = models.FloatField(default=0)
    capital_adequacy_tier_1_ratio = models.FloatField(default=0)
    capital_adequacy_tier_total_capital_ratio = models.FloatField(default=0)
    commercial_business_loans = models.FloatField(default=0)
    commercial_mortgage_loans = models.FloatField(default=0)
    construction_loans = models.FloatField(default=0)
    efficiency_overhead_ratio = models.FloatField(default=0)
    mortgage_backed_securities = models.FloatField(default=0)
    net_charge_offs_to_average_loans = models.FloatField(default=0)
    # Fundamental
    altman_z_score = models.FloatField(default=0)
    altman_z2_score = models.FloatField(default=0)
    beneish_m_score = models.FloatField(default=0)
    book_value_per_share = models.FloatField(default=0)
    cash_per_share = models.FloatField(default=0)
    cyclically_adjusted_book_per_share = models.FloatField(default=0)
    cyclically_adjusted_fcf_per_share = models.FloatField(default=0)
    cyclically_adjusted_revenue_per_share = models.FloatField(default=0)
    dividends_per_share = models.FloatField(default=0)
    e10 = models.FloatField(default=0)
    earnings_per_share_diluted = models.FloatField(default=0)
    ebit_per_share = models.FloatField(default=0)
    ebitda_per_share = models.FloatField(default=0)
    entreprise_value = models.FloatField(default=0)
    eps_without_nri = models.FloatField(default=0)
    ffo_per_share = models.FloatField(default=0)
    financial_strength = models.FloatField(default=0)
    float_percentage_of_total_share_outstanding = models.FloatField(default=0)
    free_cash_flow_per_share = models.FloatField(default=0)
    gf_score = models.FloatField(default=0)
    gf_value_rank = models.FloatField(default=0)
    growth_rank = models.FloatField(default=0)
    insider_ownership = models.FloatField(default=0)
    institutional_ownership = models.FloatField(default=0)
    market_cap = models.FloatField(default=0)
    mohanram_g_score = models.FloatField(default=0)
    momentum_rank = models.FloatField(default=0)
    net_cash_per_share = models.FloatField(default=0)
    net_current_asset_value = models.FloatField(default=0)
    net_net_working_capital = models.FloatField(default=0)
    operating_cash_flow_per_share = models.FloatField(default=0)
    owner_earnings_per_share_ttm = models.FloatField(default=0)
    piotroski_f_score = models.FloatField(default=0)
    predictability_rank = models.FloatField(default=0)
    probability_of_financial_distress = models.FloatField(default=0)
    probability_risk = models.FloatField(default=0)
    quality_risk = models.FloatField(default=0)
    revenue_per_share = models.FloatField(default=0)
    risk_assessment = models.FloatField(default=0)
    scaled_net_operation_assets = models.FloatField(default=0)
    short_interest = models.FloatField(default=0)
    short_percentage_of_float = models.FloatField(default=0)
    tangible_book_per_share = models.FloatField(default=0)
    total_debt_per_share = models.FloatField(default=0)
    valuation_rank = models.FloatField(default=0)
    yoy_ebitda_growth = models.FloatField(default=0)
    yoy_earnings_per_share_growth = models.FloatField(default=0)
    yoy_revenue_per_share_growth = models.FloatField(default=0)
    # Valuation Ratio
    roiic_1_year = models.FloatField(default=0)
    roiic_3_year = models.FloatField(default=0)
    roiic_5_year = models.FloatField(default=0)
    roiic_10_year = models.FloatField(default=0)
    rore_3_year = models.FloatField(default=0)
    rore_5_year = models.FloatField(default=0)
    rore_10_year = models.FloatField(default=0)
    asset_turnover = models.FloatField(default=0)
    buyback_yield = models.FloatField(default=0)
    capex_to_operation_cash_flow = models.FloatField(default=0)
    capex_to_operating_income = models.FloatField(default=0)
    capex_to_revenue = models.FloatField(default=0)
    cash_conversion_cycle = models.FloatField(default=0)
    cash_ratio = models.FloatField(default=0)
    cash_to_debt = models.FloatField(default=0)
    cogs_to_revenue = models.FloatField(default=0)
    current_ratio = models.FloatField(default=0)
    cyclically_adjusted_pb_ratio = models.FloatField(default=0)
    cyclically_adjusted_price_to_fcf = models.FloatField(default=0)
    cyclically_adjusted_ps_ratio = models.FloatField(default=0)
    days_inventory = models.FloatField(default=0)
    days_payable = models.FloatField(default=0)
    days_sales_outstanding = models.FloatField(default=0)
    debt_to_asset = models.FloatField(default=0)
    debt_to_ebitda = models.FloatField(default=0)
    debt_to_equity = models.FloatField(default=0)
    debt_to_revenue = models.FloatField(default=0)
    degree_of_financial_leverage = models.FloatField(default=0)
    earnings_yield = models.FloatField(default=0)
    earnings_yield_joel_greenblatt = models.FloatField(default=0)
    effective_interest_rate_on_debt = models.FloatField(default=0)
    equity_to_asset = models.FloatField(default=0)
    ev_to_ebit = models.FloatField(default=0)
    ev_to_ebitda = models.FloatField(default=0)
    ev_to_fcf = models.FloatField(default=0)
    ev_to_revenue = models.FloatField(default=0)
    fcf_yield = models.FloatField(default=0)
    forward_rate_of_return_yacktman = models.FloatField(default=0)
    goodwill_to_asset = models.FloatField(default=0)
    gross_profit_to_asset = models.FloatField(default=0)
    interest_coverage = models.FloatField(default=0)
    inventory_turnover = models.FloatField(default=0)
    inventory_to_revenue = models.FloatField(default=0)
    liabilities_to_assets = models.FloatField(default=0)
    long_term_debt_to_total_asset = models.FloatField(default=0)
    net_debt_paydown_yield = models.FloatField(default=0)
    pb_ratio = models.FloatField(default=0)
    pe_ratio = models.FloatField(default=0)
    pe_ratio_ttm = models.FloatField(default=0)
    pe_ratio_without_nri = models.FloatField(default=0)
    pe_ratio_forward = models.FloatField(default=0)
    peg_ratio = models.FloatField(default=0)
    price_to_free_cash_flow = models.FloatField(default=0)
    price_to_funds_from_operations = models.FloatField(default=0)
    price_to_operating_cash_flow = models.FloatField(default=0)
    price_to_owner_earnings = models.FloatField(default=0)
    price_to_tangible_book = models.FloatField(default=0)
    ps_ratio = models.FloatField(default=0)
    quick_ratio = models.FloatField(default=0)
    receivables_turnover = models.FloatField(default=0)
    return_on_tangible_asset = models.FloatField(default=0)
    return_on_tangible_equity = models.FloatField(default=0)
    roa = models.FloatField(default=0)
    roc = models.FloatField(default=0)
    roc_joel_greenblatt = models.FloatField(default=0)
    roce = models.FloatField(default=0)
    roe = models.FloatField(default=0)
    roe_adjusted_to_book_value = models.FloatField(default=0)
    roic = models.FloatField(default=0)
    shareholder_yield = models.FloatField(default=0)
    shares_buyback_ratio = models.FloatField(default=0)
    shiller_pe_ratio = models.FloatField(default=0)
    short_ratio = models.FloatField(default=0)
    sloan_ratio = models.FloatField(default=0)
    total_payout_ratio = models.FloatField(default=0)
    total_payout_yield = models.FloatField(default=0)
    wacc = models.FloatField(default=0)
    # Profitability
    ebitda_margin = models.FloatField(default=0)
    fcf_margin = models.FloatField(default=0)
    gross_margin = models.FloatField(default=0)
    net_interest_margin = models.FloatField(default=0)
    net_margin = models.FloatField(default=0)
    operating_margin = models.FloatField(default=0)
    pretax_margin = models.FloatField(default=0)
    # Growth
    revenue_growth_rate_3_year = models.FloatField(default=0)
    ebitda_growth_rate_3_year = models.FloatField(default=0)
    ebitda_growth_rate_5_year = models.FloatField(default=0)
    book_growth_rate_3_year = models.FloatField(default=0)
    fcf_growth_rate_3_year = models.FloatField(default=0)
    eps_without_nri_growth_rate_3_year = models.FloatField(default=0)
    eps_growth_rate_5_year = models.FloatField(default=0)
    total_revenue_growth_rate_5_year = models.FloatField(default=0)
    # Price
    beta = models.FloatField(default=0)
    earnings_power_value = models.FloatField(default=0)
    gf_value = models.FloatField(default=0)
    graham_number = models.FloatField(default=0)
    intrinsic_value_dcf_earnings_based = models.FloatField(default=0)
    intrinsic_value_dcf_fcf_based = models.FloatField(default=0)
    intrinsic_value_dcf_dividends_based = models.FloatField(default=0)
    intrinsic_value_projected_fcf = models.FloatField(default=0)
    margin_of_safety_dcf_earnings_based = models.FloatField(default=0)
    margin_of_safety_dcf_fcf_based = models.FloatField(default=0)
    margin_of_safety_dcf_dividends_based = models.FloatField(default=0)
    median_ps_value = models.FloatField(default=0)
    peter_lynch_fair_value = models.FloatField(default=0)
    volatility = models.FloatField(default=0)
    # Dividends
    dividends_growth_rate_3_year = models.FloatField(default=0)
    dividends_growth_rate_5_year = models.FloatField(default=0)
    yield_on_cost_5_year = models.FloatField(default=0)
    dividend_payout_ratio = models.FloatField(default=0)
    dividend_yield = models.FloatField(default=0)
    dividend_payout_to_ffo = models.FloatField(default=0)
    forward_dividend_yield = models.FloatField(default=0)

    class Meta:
        verbose_name = 'Analysis'
        verbose_name_plural = 'Analysis'

